<!DOCTYPE html>
<html>
<head>
    <title>Table</title>
    {% load admin_interface_extras %}
    {% load dates %}

</head>
<body>
    {% if table %}
        <h1>Available doctors</h1>
        <ul>
            {% for prof in table.professors %}
                <li><a href="{% url 'display_doctor' prof.id %}">{{ prof.name }}</a></li>
            {% endfor %}
        </ul>
        <h1>Available topics</h1>
        <ul>
            {% for topic in table.available_topics %}
                <li><a href="{% url 'get_topic' topic.department.id topic.id %}">{{ topic.name }}</a></li>
            {% endfor %}
        </ul>
        {{ topic.table.set_json }}
        <h1>Table</h1>
        <table style="border: 1px solid #000; padding: 10px; direction: rtl;">
            {% for day in '1234567' %}

                <tr>
                    <th>{{ forloop.counter0|num_to_day }}</th>
                    {% for period in '123456' %}
                        <td style="border: 1px solid #000; width: 100px; height: 100px; padding: 5px;">
                            <small>{{ forloop.counter }}</small>
                            <hr />
                            {% for topic in table.available_topics %}
                                {{ topic.table.set_json|dynamic_index:forloop.parentloop.parentloop.counter0|dynamic_index:forloop.parentloop.counter0 }}
                                
                            {% endfor %}
                        </td>
                    {% endfor %}
                </tr>
            {% endfor %}
        </table>
    {% else %}
        <h1> No Table</h1>
    {% endif %}
</body>
</html>